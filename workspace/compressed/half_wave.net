# Half Wave Rectifier
.options sparse=1 maxdelta=10. maxiter=60 softiter=340 verbose=0
#abstol=1e-5 reltol=1e-3

#.analysis fdtd T=1us nsamples=100
.analysis sscw T=10ns nsamples=128 deriv=Fourier wavelet=db4 ncoeff=50 shell=0 
.analysis ssw T=10ns nsamples=128 multilevel=1 deriv=Fourier wavelet=db4
#.analysis tran tstep=.1ns tstop=60ns
vpulse:vin 1 gnd v1=-5V v2=5V tf=1ns tr=1ns pw=4ns per=10ns
#vsin:vin 1 gnd vdc = 0 mag=5V freq=100MegHz phase = -90
res:r1 1 gnd r=1kOhm
diode:d1 1 2 isat=10fA cj0=20fF
#res:rdiode 1 2 r=40
res:r2 2 gnd r=1kOhm
cap:c1 2 gnd c=10pF
#tlinps4:tline1 2 gnd 3 gnd length=.1 tand=1e-3 z0mag=50
res:rline 2 3 r=10Ohm
res:rload 3 gnd r=300ohm

.plot fdtd 1 2 3
.plot sscw 1 2 3
.plot sscwcoeff 1 2 3
#.plot sscw vpulse:vin:i
#.plot sscwcoeff vpulse:vin:i
.plot ssw 1 2 3
.plot sswcoeff 1 2 3
#.plot ssw vpulse:vin:i
.plot tran 1 2 3

.end
